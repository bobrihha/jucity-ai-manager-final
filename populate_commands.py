from db import SessionLocal, BotCommand, init_db

def populate():
    init_db()
    db = SessionLocal()
    
    # Default commands content (simplified from handlers.py)
    commands = [
        {
            "command": "prices",
            "title": "๐ฐ ะฆะตะฝั",
            "response": """๐ฐ <b>ะฆะตะฝั ะฝะฐ ะฑะตะทะปะธะผะธัะฝัะน ะฑะธะปะตั</b>

๐ข ะะพะฝะตะดะตะปัะฝะธะบ (ััะฟะตั-ัะตะฝะฐ): <b>990 โฝ</b>
๐ต ะัะดะฝะธ (ะฒั-ะฟั): <b>1190 โฝ</b>
๐ด ะััะพะดะฝัะต: <b>1590 โฝ</b>

โ ะะทัะพัะปัะต โ ะะะกะะะะขะะ
โ ะะตัะธ ะดะพ 1 ะณะพะดะฐ โ ะะะกะะะะขะะ

<b>ะกะบะธะดะบะธ:</b>
โข ะะตัะธ 1-4 ะณะพะดะฐ: -20% ะฒ ะฑัะดะฝะธ
โข ะะฝะพะณะพะดะตัะฝัะต: -30% (ะฒั-ะฒั)
โข ะะพัะปะต 20:00: -50%
โข ะะผะตะฝะธะฝะฝะธะบ: -50% (ยฑ5 ะดะฝะตะน ะพั ะะ)

ะะฐะฟะธัะธัะต, ะตัะปะธ ะฝัะถะฝะฐ ะฟะพะผะพัั ั ัะฐััััะพะผ! ๐""",
             "order": 1
        },
        {
            "command": "schedule",
            "title": "๐ ะะตะถะธะผ ัะฐะฑะพัั",
            "response": """๐ <b>ะะตะถะธะผ ัะฐะฑะพัั ะะถัะฝะณะปะธ ะกะธัะธ</b>

๐ ะะธะถะฝะธะน ะะพะฒะณะพัะพะด, ะขะฆ ยซะะตะฝัะฐยป

โข ะะพะฝะตะดะตะปัะฝะธะบ: 12:00 - 22:00
โข ะัะพัะฝะธะบ - ะะพัะบัะตัะตะฝัะต: 10:00 - 22:00

โ๏ธ ะัะพะด ะฒ ะฟะฐัะบ ะดะพ 21:00
๐ ะะตััะพัะฐะฝ ะฟัะธะฝะธะผะฐะตั ะทะฐะบะฐะทั ะดะพ 21:00""",
             "order": 2
        },
        {
            "command": "afisha",
            "title": "๐ช ะัะธัะฐ",
            "response": """๐ช <b>ะัะธัะฐ ะะถัะฝะณะปะธ ะกะธัะธ</b>

ะะบััะฐะปัะฝัะต ัะพะฑััะธั ะธ ะผะตัะพะฟัะธััะธั:
๐ <a href='https://nn.jucity.ru/afisha/'>ะัะบัััั ะฐัะธัั</a>

ะฃ ะฝะฐั ัะตะณัะปััะฝะพ ะฟัะพัะพะดัั:
โข ะจะพั-ะฟัะพะณัะฐะผะผั
โข ะะฐััะตั-ะบะปะฐััั
โข ะะธัะบะพัะตะบะธ
โข ะัะฐะทะดะฝะธัะฝัะต ะผะตัะพะฟัะธััะธั

ะกะฟัะฐัะธะฒะฐะนัะต โ ัะฐััะบะฐะถั ะฟะพะดัะพะฑะฝะตะต! ๐""",
             "order": 3
        },
        {
            "command": "rules",
            "title": "๐ ะัะฐะฒะธะปะฐ",
            "response": """๐ <b>ะัะฐะฒะธะปะฐ ะฟะพัะตัะตะฝะธั ะะถัะฝะณะปะธ ะกะธัะธ</b>

๐งฆ <b>ะะพัะบะธ ะพะฑัะทะฐัะตะปัะฝั</b> ะฝะฐ ะธะณัะพะฒะพะน ัะตััะธัะพัะธะธ

๐จโ๐ฉโ๐ง <b>ะะตัะธ ะฟะพะด ะฟัะธัะผะพััะพะผ</b> ะฒะทัะพัะปัั

๐ <b>ะกะฒะพั ะตะดะฐ ะทะฐะฟัะตัะตะฝะฐ</b>
   (ะบัะพะผะต ะดะตััะบะพะณะพ ะฟะธัะฐะฝะธั ะธ ะฒะพะดั)

๐ซ <b>ะะฐะฟัะตัะตะฝะพ:</b>
โข ะะปะบะพะณะพะปั
โข ะะพะผะฐัะฝะธะต ะถะธะฒะพัะฝัะต
โข ะะฟะฐัะฝัะต ะฟัะตะดะผะตัั

โฟ ะััั ะฟะฐะฝะดััั ะธ ะปะธััั ัะตัะตะท ะขะฆ ยซะะตะฝัะฐยป""",
             "order": 4
        },
         {
            "command": "contacts",
            "title": "๐ ะะพะฝัะฐะบัั",
            "response": """๐ <b>ะะฐะบ ะฝะฐั ะฝะฐะนัะธ</b>

<b>ะะดัะตั:</b>
ะณ. ะะธะถะฝะธะน ะะพะฒะณะพัะพะด, ัะป. ะะพะผะธะฝัะตัะฝะฐ, ะด. 11
ะขะฆ ยซะะตะฝัะฐยป, 1 ััะฐะถ

<b>ะขะตะปะตัะพะฝั:</b>
๐ +7 (831) 213-50-50
๐ฌ WhatsApp: +7 (962) 509-74-93

<b>ะะฐะบ ะดะพะฑัะฐัััั:</b>
๐ ะะตััะพ ยซะััะตะฒะตััะฝะธะบยป โ 250 ะผ
๐ ะะฒัะพะฑัั 90, 95, 71, 78, 29 โ ะพัั. ยซะะฐััยป
๐ ะขัะพะปะปะตะนะฑัั 5, 8 โ ะพัั. ยซะะฐััยป
๐ ะะตัะฟะปะฐัะฝะฐั ะฟะฐัะบะพะฒะบะฐ ั ะขะฆ""",
             "order": 6
        },
        {
            "command": "cafe",
            "title": "๐ ะะตะฝั ะบะฐัะต",
            "response": """๐ <b>ะะตััะพัะฐะฝ ะะถัะฝะณะปะธ ะกะธัะธ</b>

ะฃ ะฝะฐั ะฒะบััะฝะพ ะธ ะดะปั ะดะตัะตะน, ะธ ะดะปั ะฒะทัะพัะปัั!

๐ <b>ะะตะฝั:</b>
๐ <a href='https://catalog.botcicada.ru/menu.html'>ะัะบัััั ะผะตะฝั</a>

๐ <b>ะขะพััั ะฝะฐ ะทะฐะบะฐะท:</b>
๐ <a href='https://catalog.botcicada.ru/cakes.html'>ะะฐัะฐะปะพะณ ัะพััะพะฒ</a>

โฐ ะะตััะพัะฐะฝ ัะฐะฑะพัะฐะตั ะดะพ 21:00""",
             "order": 7
        },
        {
            "command": "promo",
            "title": "๐ ะะบัะธะธ",
            "response": """๐ <b>ะะบัะธะธ ะะถัะฝะณะปะธ ะกะธัะธ</b>

๐ฅ <b>ะกะะะะะ 26% ะะ ะะะะะะะะ ะ 2026!</b>
ะะตัะธะพะด: ะดะพ 11 ัะฝะฒะฐัั 2026

ะฃัะปะพะฒะธั:
โข ะัะพะฝะธัะพะฒะฐะฝะธะต ะฟัะฐะทะดะฝะธะบะฐ ะพั 6 ะดะตัะตะน
โข ะัะฐะทะดะฝะธะบ ะผะพะถะตั ะฑััั ะฒ ะปัะฑะพะน ะดะตะฝั 2026 ะณะพะดะฐ
โข ะกะบะธะดะบะฐ ะะ ัะฐัะฟัะพัััะฐะฝัะตััั ะฝะฐ ะฟะฐะบะตัั

<b>ะัะธะผะตั:</b>
8 ะดะตัะตะน ะฒ ััะฑะฑะพัั: 7 ร 1590 = 11 130 โฝ
ะกะพ ัะบะธะดะบะพะน 26%: <b>8 236 โฝ</b> ๐ฐ

ะฅะพัะธัะต ะทะฐะฑัะพะฝะธัะพะฒะฐัั ัะพ ัะบะธะดะบะพะน? ะะฐะฟะธัะธัะต /birthday""",
             "order": 8
        },
    ]

    for data in commands:
        exists = db.query(BotCommand).filter(BotCommand.command == data["command"]).first()
        if not exists:
            cmd = BotCommand(
                command=data["command"],
                title=data["title"],
                response=data["response"],
                order=data["order"],
                is_active=True,
                has_logic=False
            )
            db.add(cmd)
            print(f"Added command /{data['command']}")
    
    db.commit()
    db.close()
    print("Done!")

if __name__ == "__main__":
    populate()
