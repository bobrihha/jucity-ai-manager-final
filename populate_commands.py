from db import SessionLocal, BotCommand, init_db

def populate():
    init_db()
    db = SessionLocal()
    
    # Default commands content (simplified from handlers.py)
    commands = [
        {
            "command": "prices",
            "title": "üí∞ –¶–µ–Ω—ã",
            "response": """üí∞ <b>–¶–µ–Ω—ã –Ω–∞ –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π –±–∏–ª–µ—Ç</b>

üü¢ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (—Å—É–ø–µ—Ä-—Ü–µ–Ω–∞): <b>990 ‚ÇΩ</b>
üîµ –ë—É–¥–Ω–∏ (–≤—Ç-–ø—Ç): <b>1190 ‚ÇΩ</b>
üî¥ –í—ã—Ö–æ–¥–Ω—ã–µ: <b>1590 ‚ÇΩ</b>

‚úÖ –í–∑—Ä–æ—Å–ª—ã–µ ‚Äî –ë–ï–°–ü–õ–ê–¢–ù–û
‚úÖ –î–µ—Ç–∏ –¥–æ 1 –≥–æ–¥–∞ ‚Äî –ë–ï–°–ü–õ–ê–¢–ù–û

<b>–°–∫–∏–¥–∫–∏:</b>
‚Ä¢ –î–µ—Ç–∏ 1-4 –≥–æ–¥–∞: -20% –≤ –±—É–¥–Ω–∏
‚Ä¢ –ú–Ω–æ–≥–æ–¥–µ—Ç–Ω—ã–µ: -30% (–≤—Ç-–≤—Å)
‚Ä¢ –ü–æ—Å–ª–µ 20:00: -50%
‚Ä¢ –ò–º–µ–Ω–∏–Ω–Ω–∏–∫: -50% (¬±5 –¥–Ω–µ–π –æ—Ç –î–†)

–ù–∞–ø–∏—à–∏—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å —Ä–∞—Å—á—ë—Ç–æ–º! üòä""",
             "order": 1
        },
        {
            "command": "schedule",
            "title": "üïê –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã",
            "response": """üïê <b>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –î–∂—É–Ω–≥–ª–∏ –°–∏—Ç–∏</b>

üìç –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥, –¢–¶ ¬´–õ–µ–Ω—Ç–∞¬ª

‚Ä¢ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: 12:00 - 22:00
‚Ä¢ –í—Ç–æ—Ä–Ω–∏–∫ - –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: 10:00 - 22:00

‚ö†Ô∏è –í—Ö–æ–¥ –≤ –ø–∞—Ä–∫ –¥–æ 21:00
üçï –†–µ—Å—Ç–æ—Ä–∞–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑—ã –¥–æ 21:00""",
             "order": 2
        },
        {
            "command": "afisha",
            "title": "üé™ –ê—Ñ–∏—à–∞",
            "response": """üé™ <b>–ê—Ñ–∏—à–∞ –î–∂—É–Ω–≥–ª–∏ –°–∏—Ç–∏</b>

–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è:
üëâ <a href='https://nn.jucity.ru/afisha/'>–û—Ç–∫—Ä—ã—Ç—å –∞—Ñ–∏—à—É</a>

–£ –Ω–∞—Å —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç:
‚Ä¢ –®–æ—É-–ø—Ä–æ–≥—Ä–∞–º–º—ã
‚Ä¢ –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã
‚Ä¢ –î–∏—Å–∫–æ—Ç–µ–∫–∏
‚Ä¢ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è

–°–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ ‚Äî —Ä–∞—Å—Å–∫–∞–∂—É –ø–æ–¥—Ä–æ–±–Ω–µ–µ! üåü""",
             "order": 3
        },
        {
            "command": "rules",
            "title": "üìã –ü—Ä–∞–≤–∏–ª–∞",
            "response": """üìã <b>–ü—Ä–∞–≤–∏–ª–∞ –ø–æ—Å–µ—â–µ–Ω–∏—è –î–∂—É–Ω–≥–ª–∏ –°–∏—Ç–∏</b>

üß¶ <b>–ù–æ—Å–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã</b> –Ω–∞ –∏–≥—Ä–æ–≤–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏

üë®‚Äçüë©‚Äçüëß <b>–î–µ—Ç–∏ –ø–æ–¥ –ø—Ä–∏—Å–º–æ—Ç—Ä–æ–º</b> –≤–∑—Ä–æ—Å–ª—ã—Ö

üçï <b>–°–≤–æ—è –µ–¥–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–∞</b>
   (–∫—Ä–æ–º–µ –¥–µ—Ç—Å–∫–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è –∏ –≤–æ–¥—ã)

üö´ <b>–ó–∞–ø—Ä–µ—â–µ–Ω–æ:</b>
‚Ä¢ –ê–ª–∫–æ–≥–æ–ª—å
‚Ä¢ –î–æ–º–∞—à–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ
‚Ä¢ –û–ø–∞—Å–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã

‚ôø –ï—Å—Ç—å –ø–∞–Ω–¥—É—Å—ã –∏ –ª–∏—Ñ—Ç—ã —á–µ—Ä–µ–∑ –¢–¶ ¬´–õ–µ–Ω—Ç–∞¬ª""",
             "order": 4
        },
         {
            "command": "contacts",
            "title": "üìç –ö–æ–Ω—Ç–∞–∫—Ç—ã",
            "response": """üìç <b>–ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏</b>

<b>–ê–¥—Ä–µ—Å:</b>
–≥. –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥, —É–ª. –ö–æ–º–∏–Ω—Ç–µ—Ä–Ω–∞, –¥. 11
–¢–¶ ¬´–õ–µ–Ω—Ç–∞¬ª, 1 —ç—Ç–∞–∂

<b>–¢–µ–ª–µ—Ñ–æ–Ω—ã:</b>
üìû +7 (831) 213-50-50
üí¨ WhatsApp: +7 (962) 509-74-93

<b>–ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è:</b>
üöá –ú–µ—Ç—Ä–æ ¬´–ë—É—Ä–µ–≤–µ—Å—Ç–Ω–∏–∫¬ª ‚Äî 250 –º
üöå –ê–≤—Ç–æ–±—É—Å 90, 95, 71, 78, 29 ‚Üí –æ—Å—Ç. ¬´–í–∞—Ä—è¬ª
üöã –¢—Ä–æ–ª–ª–µ–π–±—É—Å 5, 8 ‚Üí –æ—Å—Ç. ¬´–í–∞—Ä—è¬ª
üöó –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞ —É –¢–¶""",
             "order": 6
        },
        {
            "command": "cafe",
            "title": "üçï –ú–µ–Ω—é –∫–∞—Ñ–µ",
            "response": """üçï <b>–†–µ—Å—Ç–æ—Ä–∞–Ω –î–∂—É–Ω–≥–ª–∏ –°–∏—Ç–∏</b>

–£ –Ω–∞—Å –≤–∫—É—Å–Ω–æ –∏ –¥–ª—è –¥–µ—Ç–µ–π, –∏ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö!

üìñ <b>–ú–µ–Ω—é:</b>
üëâ <a href='https://catalog.botcicada.ru/menu.html'>–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é</a>

üéÇ <b>–¢–æ—Ä—Ç—ã –Ω–∞ –∑–∞–∫–∞–∑:</b>
üëâ <a href='https://catalog.botcicada.ru/cakes.html'>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ—Ä—Ç–æ–≤</a>

‚è∞ –†–µ—Å—Ç–æ—Ä–∞–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ 21:00""",
             "order": 7
        },
        {
            "command": "promo",
            "title": "üéÅ –ê–∫—Ü–∏–∏",
            "response": """üéÅ <b>–ê–∫—Ü–∏–∏ –î–∂—É–Ω–≥–ª–∏ –°–∏—Ç–∏</b>

üî• <b>–°–ö–ò–î–ö–ê 26% –ù–ê –ü–†–ê–ó–î–ù–ò–ö –í 2026!</b>
–ü–µ—Ä–∏–æ–¥: –¥–æ 11 —è–Ω–≤–∞—Ä—è 2026

–£—Å–ª–æ–≤–∏—è:
‚Ä¢ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –æ—Ç 6 –¥–µ—Ç–µ–π
‚Ä¢ –ü—Ä–∞–∑–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ª—é–±–æ–π –¥–µ–Ω—å 2026 –≥–æ–¥–∞
‚Ä¢ –°–∫–∏–¥–∫–∞ –ù–ï —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –ø–∞–∫–µ—Ç—ã

<b>–ü—Ä–∏–º–µ—Ä:</b>
8 –¥–µ—Ç–µ–π –≤ —Å—É–±–±–æ—Ç—É: 7 √ó 1590 = 11 130 ‚ÇΩ
–°–æ —Å–∫–∏–¥–∫–æ–π 26%: <b>8 236 ‚ÇΩ</b> üí∞

–•–æ—Ç–∏—Ç–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–æ —Å–∫–∏–¥–∫–æ–π? –ù–∞–ø–∏—à–∏—Ç–µ /birthday""",
             "order": 8
        },
        {
            "command": "start",
            "title": "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
            "response": "Start command logic is handled by code.",
            "order": 0
        },
        {
            "command": "birthday",
            "title": "üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è",
            "response": "Birthday logic is handled by code.",
            "order": 5
        },
        {
            "command": "human",
            "title": "üë§ –ú–µ–Ω–µ–¥–∂–µ—Ä",
            "response": "Human escalation logic.",
            "order": 9
        },
    ]

    for data in commands:
        exists = db.query(BotCommand).filter(BotCommand.command == data["command"]).first()
        if not exists:
            cmd = BotCommand(
                command=data["command"],
                title=data["title"],
                response=data["response"],
                order=data["order"],
                is_active=True,
                has_logic=True # –≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
            )
            db.add(cmd)
            print(f"Added command /{data['command']}")
        else:
             # –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –µ—Å—Ç—å, –Ω–æ –º—ã —Ö–æ—Ç–∏–º –æ–±–Ω–æ–≤–∏—Ç—å has_logic –∏–ª–∏ title (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
             pass
    
    db.commit()
    db.close()
    print("Done!")

if __name__ == "__main__":
    populate()
